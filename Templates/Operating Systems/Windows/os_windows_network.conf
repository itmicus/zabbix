# This is a configuration file for Template Windows Network itmicus.ru
############ GENERAL PARAMETERS #################
UserParameter=custom.net.if.discovery,powershell -NoProfile -ExecutionPolicy Bypass -Command "& {[Console]::OutputEncoding = [System.Text.Encoding]::UTF8; $result_json = @{'data' = @(get-wmiobject win32_networkadapter |ForEach-Object {@{ '{#IFNAME}' = $_.Name.Replace('/', '_').Replace('#', '_').Replace('(', '[').Replace(')', ']');'{#IFINDEX}' = $_.InterfaceIndex}})}| ConvertTo-Json; [Console]::WriteLine($result_json);}"